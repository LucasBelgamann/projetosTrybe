{"ast":null,"code":"var _jsxFileName = \"/home/lucas/trybe/projetosDaTrybe/sd-021-a-project-trybewallet/src/pages/Wallet.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { requestAPI, requestApiTwo } from '../actions';\nconst INITIAL_STATE = {\n  id: 0,\n  value: '',\n  descricao: '',\n  moeda: 'USD',\n  metodo: 'Dinheiro',\n  tag: 'Alimentação'\n};\n\nclass Wallet extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = { ...INITIAL_STATE\n    };\n\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.handleClick = () => {\n      const {\n        fetchTwo\n      } = this.props;\n      fetchTwo(this.state);\n      this.setState(_ref2 => {\n        let {\n          id\n        } = _ref2;\n        return { ...INITIAL_STATE,\n          id: id + 1\n        };\n      });\n    };\n  }\n\n  componentDidMount() {\n    const {\n      fetchReq\n    } = this.props;\n    fetchReq();\n  }\n\n  render() {\n    const {\n      email,\n      currencies\n    } = this.props;\n    const {\n      value,\n      descricao,\n      moeda,\n      metodo,\n      tag\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"header\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      \"data-testid\": \"email-field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 15\n      }\n    }, email), /*#__PURE__*/React.createElement(\"li\", {\n      \"data-testid\": \"total-field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 15\n      }\n    }, !expenses ? 0 : expenses.reduce((acc, curr) => {\n      acc += curr.exchangeRates[curr.currency].ask * curr.value;\n      return acc;\n    }, 0).toFixed([2])), /*#__PURE__*/React.createElement(\"li\", {\n      \"data-testid\": \"header-currency-field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }\n    }, \"BRL\")))), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"value\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }\n    }, \"value\", /*#__PURE__*/React.createElement(\"input\", {\n      id: \"value\",\n      name: \"value\",\n      type: \"text\",\n      value: value,\n      \"data-testid\": \"value-input\",\n      placeholder: \"value\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"description-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }\n    }, \"Descri\\xE7\\xE3o\", /*#__PURE__*/React.createElement(\"input\", {\n      \"data-testid\": \"description-input\",\n      id: \"description-input\",\n      name: \"descricao\",\n      value: descricao,\n      placeholder: \"Descri\\xE7\\xE3o\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"moeda\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, \"Moeda\", /*#__PURE__*/React.createElement(\"select\", {\n      id: \"moeda\",\n      name: \"moeda\",\n      value: moeda,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    }, currencies.map((item, index) => /*#__PURE__*/React.createElement(\"option\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, item)))), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"metodo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }\n    }, \"M\\xE9todo de pagamento\", /*#__PURE__*/React.createElement(\"select\", {\n      \"data-testid\": \"method-input\",\n      id: \"metodo\",\n      name: \"metodo\",\n      value: metodo,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }, \"Dinheiro\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 15\n      }\n    }, \"Cart\\xE3o de cr\\xE9dito\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 15\n      }\n    }, \"Cart\\xE3o de d\\xE9bito\"))), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"tag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }\n    }, \"Despesa\", /*#__PURE__*/React.createElement(\"select\", {\n      \"data-testid\": \"tag-input\",\n      id: \"tag\",\n      value: tag,\n      name: \"tag\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }, \"Alimenta\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, \"Lazer\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }, \"Trabalho\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 15\n      }\n    }, \"Transporte\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }, \"Sa\\xFAde\"))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.handleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }, \"Adicionar despesa\")));\n  }\n\n}\n\nWallet.propTypes = {\n  email: PropTypes.string.isRequired,\n  fetchReq: PropTypes.func.isRequired,\n  currencies: PropTypes.arrayOf(PropTypes.string).isRequired,\n  fetchTwo: PropTypes.func.isRequired\n};\n\nconst mapStateToProps = state => ({\n  email: state.user.email,\n  currencies: state.wallet.currencies,\n  expenses: state.wallet.ex\n});\n\nconst mapDispatchToProps = dispatch => ({\n  fetchReq: () => dispatch(requestAPI()),\n  fetchTwo: expenses => dispatch(requestApiTwo(expenses))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Wallet);","map":{"version":3,"names":["React","PropTypes","connect","requestAPI","requestApiTwo","INITIAL_STATE","id","value","descricao","moeda","metodo","tag","Wallet","Component","state","handleChange","target","name","setState","handleClick","fetchTwo","props","componentDidMount","fetchReq","render","email","currencies","expenses","reduce","acc","curr","exchangeRates","currency","ask","toFixed","map","item","index","propTypes","string","isRequired","func","arrayOf","mapStateToProps","user","wallet","ex","mapDispatchToProps","dispatch"],"sources":["/home/lucas/trybe/projetosDaTrybe/sd-021-a-project-trybewallet/src/pages/Wallet.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { requestAPI, requestApiTwo } from '../actions';\n\nconst INITIAL_STATE = {\n  id: 0,\n  value: '',\n  descricao: '',\n  moeda: 'USD',\n  metodo: 'Dinheiro',\n  tag: 'Alimentação',\n};\n\nclass Wallet extends React.Component {\n  state = {\n    ...INITIAL_STATE,\n  }\n\n  componentDidMount() {\n    const { fetchReq } = this.props;\n    fetchReq();\n  }\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value });\n  }\n\n  handleClick = () => {\n    const { fetchTwo } = this.props;\n    fetchTwo(this.state);\n    this.setState(({ id }) => ({ ...INITIAL_STATE, id: id + 1 }));\n  }\n\n  render() {\n    const { email, currencies } = this.props;\n    const { value, descricao, moeda, metodo, tag } = this.state;\n    return (\n      <div>\n        <header>\n          <div>\n            <ul>\n              <li data-testid=\"email-field\">{email}</li>\n              <li data-testid=\"total-field\">\n                {\n                  !expenses\n                    ? 0\n                    : expenses.reduce((acc, curr) => {\n                      acc += curr.exchangeRates[curr.currency].ask * curr.value;\n                      return acc;\n                    }, 0).toFixed([2])\n                }\n              </li>\n              <li data-testid=\"header-currency-field\">BRL</li>\n            </ul>\n          </div>\n        </header>\n        <form>\n          <label htmlFor=\"value\">\n            value\n            <input\n              id=\"value\"\n              name=\"value\"\n              type=\"text\"\n              value={ value }\n              data-testid=\"value-input\"\n              placeholder=\"value\"\n              onChange={ this.handleChange }\n            />\n          </label>\n          <label htmlFor=\"description-input\">\n            Descrição\n            <input\n              data-testid=\"description-input\"\n              id=\"description-input\"\n              name=\"descricao\"\n              value={ descricao }\n              placeholder=\"Descrição\"\n              onChange={ this.handleChange }\n            />\n          </label>\n          <label htmlFor=\"moeda\">\n            Moeda\n            <select\n              id=\"moeda\"\n              name=\"moeda\"\n              value={ moeda }\n              onChange={ this.handleChange }\n            >\n              {currencies.map((item, index) => (\n                <option key={ index }>{item}</option>\n              ))}\n            </select>\n          </label>\n          <label htmlFor=\"metodo\">\n            Método de pagamento\n            <select\n              data-testid=\"method-input\"\n              id=\"metodo\"\n              name=\"metodo\"\n              value={ metodo }\n              onChange={ this.handleChange }\n            >\n              <option>Dinheiro</option>\n              <option>Cartão de crédito</option>\n              <option>Cartão de débito</option>\n            </select>\n          </label>\n          <label htmlFor=\"tag\">\n            Despesa\n            <select\n              data-testid=\"tag-input\"\n              id=\"tag\"\n              value={ tag }\n              name=\"tag\"\n              onChange={ this.handleChange }\n            >\n              <option>Alimentação</option>\n              <option>Lazer</option>\n              <option>Trabalho</option>\n              <option>Transporte</option>\n              <option>Saúde</option>\n            </select>\n          </label>\n          <button\n            type=\"button\"\n            onClick={ this.handleClick }\n          >\n            Adicionar despesa\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nWallet.propTypes = {\n  email: PropTypes.string.isRequired,\n  fetchReq: PropTypes.func.isRequired,\n  currencies: PropTypes.arrayOf(PropTypes.string).isRequired,\n  fetchTwo: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  email: state.user.email,\n  currencies: state.wallet.currencies,\n  expenses: state.wallet.ex\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchReq: () => dispatch(requestAPI()),\n  fetchTwo: (expenses) => dispatch(requestApiTwo(expenses)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Wallet);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}