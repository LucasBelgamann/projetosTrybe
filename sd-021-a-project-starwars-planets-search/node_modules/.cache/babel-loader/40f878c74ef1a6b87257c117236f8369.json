{"ast":null,"code":"var _jsxFileName = \"/home/lucas/trybe/projetosDaTrybe/sd-021-a-project-starwars-planets-search/src/context/StarWarsProvider.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport DataContext from './context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ProviderData(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [data, setData] = useState([]);\n  const [selectValue, setSelect] = useState({\n    colunas: 'population',\n    maior: 'maior que',\n    inNumber: 10000\n  });\n  const {\n    colunas,\n    maior,\n    inNumber\n  } = selectValue;\n  const [colunasName, setColunaFilter] = useState(['population', 'orbital_period', 'diameter', 'rotation_period', 'surface_water']);\n  const [array, setArray] = useState([]);\n  const [filterName, setFilterName] = useState('');\n  const [response2, setResponse] = useState([]);\n\n  const handleFetch = async () => {\n    const response = await fetch('https://swapi-trybe.herokuapp.com/api/planets/');\n    const dataResp = await response.json();\n    const dataFilter = dataResp.results.filter(element => delete element.residents);\n    setData(dataFilter);\n    setResponse(dataFilter);\n  };\n\n  const filterByNumericValues = () => {\n    setArray(prevState => [...prevState, {\n      colunas,\n      maior,\n      inNumber\n    }]);\n    const filterByNumeric = data.filter(item => {\n      if (maior === 'maior que') {\n        return Number(item[colunas]) > Number(inNumber);\n      }\n\n      if (maior === 'menor que') {\n        return Number(item[colunas]) < Number(inNumber);\n      }\n\n      if (maior === 'igual a') {\n        return Number(item[colunas]) === Number(inNumber);\n      }\n\n      return data;\n    });\n    setData(filterByNumeric);\n    setColunaFilter(colunasName.filter(e => e !== selectValue.colunas));\n    setSelect(prevState => ({ ...prevState,\n      colunas: colunasName[0]\n    }));\n  };\n\n  const handleRemove = _ref2 => {\n    let {\n      target: {\n        name\n      }\n    } = _ref2;\n    setArray(array.filter(item => item.colunas !== name));\n  };\n\n  const handleRemoveAllFilters = () => {\n    setArray([]);\n    setData(response2);\n  };\n\n  useEffect(() => {\n    handleFetch();\n  }, []);\n  const contextValue = {\n    data,\n    filterName,\n    setFilterName,\n    colunas,\n    maior,\n    inNumber,\n    setSelect,\n    filterByNumericValues,\n    setColunaFilter,\n    colunasName,\n    array,\n    handleRemove,\n    handleRemoveAllFilters\n  };\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ProviderData, \"wTvvEYV7B5xzu2Q0rOPIEDQoZV0=\");\n\n_c = ProviderData;\nProviderData.propTypes = {\n  children: PropTypes.node.isRequired\n};\nexport default ProviderData;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProviderData\");","map":{"version":3,"names":["React","useState","useEffect","PropTypes","DataContext","ProviderData","children","data","setData","selectValue","setSelect","colunas","maior","inNumber","colunasName","setColunaFilter","array","setArray","filterName","setFilterName","response2","setResponse","handleFetch","response","fetch","dataResp","json","dataFilter","results","filter","element","residents","filterByNumericValues","prevState","filterByNumeric","item","Number","e","handleRemove","target","name","handleRemoveAllFilters","contextValue","propTypes","node","isRequired"],"sources":["/home/lucas/trybe/projetosDaTrybe/sd-021-a-project-starwars-planets-search/src/context/StarWarsProvider.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport DataContext from './context';\n\nfunction ProviderData({ children }) {\n  const [data, setData] = useState([]);\n  const [selectValue, setSelect] = useState({\n    colunas: 'population',\n    maior: 'maior que',\n    inNumber: 10000,\n  });\n  const { colunas, maior, inNumber } = selectValue;\n  const [colunasName, setColunaFilter] = useState([\n    'population',\n    'orbital_period',\n    'diameter',\n    'rotation_period',\n    'surface_water',\n  ]);\n  const [array, setArray] = useState([]);\n  const [filterName, setFilterName] = useState('');\n  const [response2, setResponse] = useState([]);\n\n  const handleFetch = async () => {\n    const response = await fetch(\n      'https://swapi-trybe.herokuapp.com/api/planets/',\n    );\n    const dataResp = await response.json();\n    const dataFilter = dataResp.results.filter(\n      (element) => delete element.residents,\n    );\n    setData(dataFilter);\n    setResponse(dataFilter);\n  };\n\n  const filterByNumericValues = () => {\n    setArray((prevState) => ([...prevState, { colunas, maior, inNumber }]));\n\n    const filterByNumeric = data.filter((item) => {\n      if (maior === 'maior que') {\n        return Number(item[colunas]) > Number(inNumber);\n      }\n      if (maior === 'menor que') {\n        return Number(item[colunas]) < Number(inNumber);\n      }\n      if (maior === 'igual a') {\n        return Number(item[colunas]) === Number(inNumber);\n      }\n      return data;\n    });\n    setData(filterByNumeric);\n    setColunaFilter(colunasName.filter((e) => e !== selectValue.colunas));\n    setSelect((prevState) => ({ ...prevState, colunas: colunasName[0] }));\n  };\n\n  const handleRemove = ({ target: { name } }) => {\n    setArray(array.filter((item) => item.colunas !== name));\n  };\n\n  const handleRemoveAllFilters = () => {\n    setArray([]);\n    setData(response2);\n  };\n\n  useEffect(() => {\n    handleFetch();\n  }, []);\n\n  const contextValue = {\n    data,\n    filterName,\n    setFilterName,\n    colunas,\n    maior,\n    inNumber,\n    setSelect,\n    filterByNumericValues,\n    setColunaFilter,\n    colunasName,\n    array,\n    handleRemove,\n    handleRemoveAllFilters,\n  };\n\n  return (\n    <DataContext.Provider value={ contextValue }>{children}</DataContext.Provider>\n  );\n}\n\nProviderData.propTypes = { children: PropTypes.node.isRequired };\n\nexport default ProviderData;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}