{"ast":null,"code":"var _jsxFileName = \"/home/lucas/projetosDaTrybe/sd-021-a-project-frontend-online-store/src/Components/Cart.js\";\nimport React from 'react'; // import PropTypes from 'prop-types';\n\nimport CartItem from './CartItem';\nimport { getSavedItens } from '../services/saveProduct';\n\nclass Cart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      cartListRepeated: []\n    };\n    this.handleCartList = this.handleCartList.bind(this);\n  }\n\n  componentDidMount() {\n    const setCartList = getSavedItens();\n    const setList = this.handleCartList(setCartList);\n    console.log(setList);\n    this.setState({\n      cartListRepeated: setList\n    });\n  }\n\n  handleCartList(cartList) {\n    const objList = cartList.reduce((acc, elem) => {\n      if (!acc[0].product) {\n        const prodObj = {\n          product: elem,\n          quantity: 1\n        };\n        acc.splice(0, 1, prodObj);\n      } else {\n        const itemList = acc.find(p => p.product.id === elem.id);\n        const index = acc.indexOf(itemList);\n\n        if (itemList) {\n          const prodObj = {\n            product: elem,\n            quantity: parseInt(itemList.quantity, 10) + 1\n          };\n          acc.splice(index, 1, prodObj);\n        } else {\n          const prodObj = {\n            product: elem,\n            quantity: 1\n          };\n          acc.push(prodObj);\n        }\n      } // console.log(acc);\n\n\n      return acc;\n    }, [{\n      product: '',\n      quantity: 0\n    }]);\n    return objList;\n  }\n\n  render() {\n    const {\n      cartListRepeated\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, getSavedItens().length ? /*#__PURE__*/React.createElement(CartItem, {\n      cartList: cartListRepeated,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }) : /*#__PURE__*/React.createElement(\"span\", {\n      \"data-testid\": \"shopping-cart-empty-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, \"Seu carrinho est\\xE1 vazio\"));\n  }\n\n} // Cart.propTypes = {\n//   cartListRepeated: PropTypes.shape({\n//     product: PropTypes.arrayOf,\n//     quantity: PropTypes.number,\n//   }).isRequired,\n// };\n\n\nexport default Cart;","map":{"version":3,"sources":["/home/lucas/projetosDaTrybe/sd-021-a-project-frontend-online-store/src/Components/Cart.js"],"names":["React","CartItem","getSavedItens","Cart","Component","constructor","props","state","cartListRepeated","handleCartList","bind","componentDidMount","setCartList","setList","console","log","setState","cartList","objList","reduce","acc","elem","product","prodObj","quantity","splice","itemList","find","p","id","index","indexOf","parseInt","push","render","length"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,SAASC,aAAT,QAA8B,yBAA9B;;AAEA,MAAMC,IAAN,SAAmBH,KAAK,CAACI,SAAzB,CAAmC;AACjCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACXC,MAAAA,gBAAgB,EAAE;AADP,KAAb;AAIA,SAAKC,cAAL,GAAsB,KAAKA,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAtB;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,WAAW,GAAGV,aAAa,EAAjC;AACA,UAAMW,OAAO,GAAG,KAAKJ,cAAL,CAAoBG,WAApB,CAAhB;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYF,OAAZ;AACA,SAAKG,QAAL,CAAc;AAAER,MAAAA,gBAAgB,EAAEK;AAApB,KAAd;AACD;;AAEDJ,EAAAA,cAAc,CAACQ,QAAD,EAAW;AACvB,UAAMC,OAAO,GAAGD,QAAQ,CAACE,MAAT,CAAgB,CAACC,GAAD,EAAMC,IAAN,KAAe;AAC7C,UAAI,CAACD,GAAG,CAAC,CAAD,CAAH,CAAOE,OAAZ,EAAqB;AACnB,cAAMC,OAAO,GAAG;AAAED,UAAAA,OAAO,EAAED,IAAX;AAAiBG,UAAAA,QAAQ,EAAE;AAA3B,SAAhB;AACAJ,QAAAA,GAAG,CAACK,MAAJ,CAAW,CAAX,EAAc,CAAd,EAAiBF,OAAjB;AACD,OAHD,MAGO;AACL,cAAMG,QAAQ,GAAGN,GAAG,CAACO,IAAJ,CAAUC,CAAD,IAAOA,CAAC,CAACN,OAAF,CAAUO,EAAV,KAAiBR,IAAI,CAACQ,EAAtC,CAAjB;AACA,cAAMC,KAAK,GAAGV,GAAG,CAACW,OAAJ,CAAYL,QAAZ,CAAd;;AACA,YAAIA,QAAJ,EAAc;AACZ,gBAAMH,OAAO,GAAG;AACdD,YAAAA,OAAO,EAAED,IADK;AAEdG,YAAAA,QAAQ,EAAEQ,QAAQ,CAACN,QAAQ,CAACF,QAAV,EAAoB,EAApB,CAAR,GAAkC;AAF9B,WAAhB;AAIAJ,UAAAA,GAAG,CAACK,MAAJ,CAAWK,KAAX,EAAkB,CAAlB,EAAqBP,OAArB;AACD,SAND,MAMO;AACL,gBAAMA,OAAO,GAAG;AAAED,YAAAA,OAAO,EAAED,IAAX;AAAiBG,YAAAA,QAAQ,EAAE;AAA3B,WAAhB;AACAJ,UAAAA,GAAG,CAACa,IAAJ,CAASV,OAAT;AACD;AACF,OAjB4C,CAmB7C;;;AAEA,aAAOH,GAAP;AACD,KAtBe,EAsBb,CAAC;AAAEE,MAAAA,OAAO,EAAE,EAAX;AAAeE,MAAAA,QAAQ,EAAE;AAAzB,KAAD,CAtBa,CAAhB;AAuBA,WAAON,OAAP;AACD;;AAEDgB,EAAAA,MAAM,GAAG;AACP,UAAM;AAAE1B,MAAAA;AAAF,QAAuB,KAAKD,KAAlC;AACA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGL,aAAa,GAAGiC,MAAhB,gBACC,oBAAC,QAAD;AAAU,MAAA,QAAQ,EAAG3B,gBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,gBAGC;AAAM,qBAAY,6BAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAJJ,CADF;AAUD;;AAzDgC,C,CA4DnC;AACA;AACA;AACA;AACA;AACA;;;AAEA,eAAeL,IAAf","sourcesContent":["import React from 'react';\n// import PropTypes from 'prop-types';\nimport CartItem from './CartItem';\nimport { getSavedItens } from '../services/saveProduct';\n\nclass Cart extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      cartListRepeated: [],\n    };\n\n    this.handleCartList = this.handleCartList.bind(this);\n  }\n\n  componentDidMount() {\n    const setCartList = getSavedItens();\n    const setList = this.handleCartList(setCartList);\n    console.log(setList);\n    this.setState({ cartListRepeated: setList });\n  }\n\n  handleCartList(cartList) {\n    const objList = cartList.reduce((acc, elem) => {\n      if (!acc[0].product) {\n        const prodObj = { product: elem, quantity: 1 };\n        acc.splice(0, 1, prodObj);\n      } else {\n        const itemList = acc.find((p) => p.product.id === elem.id);\n        const index = acc.indexOf(itemList);\n        if (itemList) {\n          const prodObj = {\n            product: elem,\n            quantity: parseInt(itemList.quantity, 10) + 1,\n          };\n          acc.splice(index, 1, prodObj);\n        } else {\n          const prodObj = { product: elem, quantity: 1 };\n          acc.push(prodObj);\n        }\n      }\n\n      // console.log(acc);\n\n      return acc;\n    }, [{ product: '', quantity: 0 }]);\n    return objList;\n  }\n\n  render() {\n    const { cartListRepeated } = this.state;\n    return (\n      <div>\n        {getSavedItens().length ? (\n          <CartItem cartList={ cartListRepeated } />\n        ) : (\n          <span data-testid=\"shopping-cart-empty-message\">Seu carrinho est√° vazio</span>\n        )}\n      </div>\n\n    );\n  }\n}\n\n// Cart.propTypes = {\n//   cartListRepeated: PropTypes.shape({\n//     product: PropTypes.arrayOf,\n//     quantity: PropTypes.number,\n//   }).isRequired,\n// };\n\nexport default Cart;\n"]},"metadata":{},"sourceType":"module"}