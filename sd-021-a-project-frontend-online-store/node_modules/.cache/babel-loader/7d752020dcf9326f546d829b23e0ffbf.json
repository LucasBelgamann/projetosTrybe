{"ast":null,"code":"var _jsxFileName = \"/home/lucas/projetosDaTrybe/sd-021-a-project-frontend-online-store/src/Components/Home.js\";\nimport React from 'react';\nimport { getProductsFromCategoryAndQuery } from '../services/api';\nimport FilterableProductList from './FilterableProductList';\nimport SearchBar from './SearchProduct';\nimport CartButton from './CartButton';\nimport Categories from './Categories';\nimport { addItem } from '../services/saveProduct';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFirstLoading: true,\n      searchValue: '',\n      productList: [],\n      radioValue: ''\n    };\n    this.handleSearchButton = this.handleSearchButton.bind(this);\n    this.handleOnInputChange = this.handleOnInputChange.bind(this);\n    this.handleRadioInput = this.handleRadioInput.bind(this);\n    this.handleCartClick = this.handleCartClick.bind(this);\n  }\n\n  async handleSearchButton(searchValue) {\n    let radio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n    const {\n      radioValue\n    } = this.state;\n    const setRadio = radio || radioValue;\n    const setProducts = await getProductsFromCategoryAndQuery(setRadio, searchValue);\n\n    if (setProducts) {\n      this.setState({\n        productList: setProducts.results,\n        isFirstLoading: false\n      });\n    }\n  }\n\n  handleOnInputChange(_ref) {\n    let {\n      target: {\n        name,\n        type,\n        checked,\n        value\n      }\n    } = _ref;\n    const checkedValue = type === 'checkbox' ? checked : value;\n    this.setState({\n      [name]: checkedValue\n    });\n  }\n\n  async handleRadioInput(_ref2, searchValue) {\n    let {\n      target: {\n        value\n      }\n    } = _ref2;\n    const setProducts = await getProductsFromCategoryAndQuery(value, searchValue);\n\n    if (!searchValue) {\n      this.setState({\n        productList: setProducts.results,\n        isFirstLoading: false\n      });\n    } else {\n      this.setState({\n        radioValue: value\n      }, await this.handleSearchButton(searchValue, value));\n    }\n  }\n\n  handleCartClick(cartItem) {\n    addItem(cartItem);\n  }\n\n  render() {\n    const {\n      searchValue,\n      productList,\n      isFirstLoading,\n      radioValue\n    } = this.state; // addItem(productList[0]);\n    // addItem(productList[0]);\n    // addItem(productList[1]);\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"principal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      onClick: () => this.handleSearchButton(searchValue),\n      onChange: this.handleOnInputChange,\n      value: searchValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"button-and-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CartButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    })), isFirstLoading ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"menssage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      \"data-testid\": \"home-initial-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, \"Digite algum termo de pesquisa ou escolha uma categoria.\")) : /*#__PURE__*/React.createElement(FilterableProductList, {\n      productList: productList,\n      addToCart: this.handleCartClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Categories, {\n      onClick: e => this.handleRadioInput(e, searchValue),\n      value: radioValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/lucas/projetosDaTrybe/sd-021-a-project-frontend-online-store/src/Components/Home.js"],"names":["React","getProductsFromCategoryAndQuery","FilterableProductList","SearchBar","CartButton","Categories","addItem","Home","Component","constructor","props","state","isFirstLoading","searchValue","productList","radioValue","handleSearchButton","bind","handleOnInputChange","handleRadioInput","handleCartClick","radio","undefined","setRadio","setProducts","setState","results","target","name","type","checked","value","checkedValue","cartItem","render","e"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { getProductsFromCategoryAndQuery } from '../services/api';\nimport FilterableProductList from './FilterableProductList';\nimport SearchBar from './SearchProduct';\nimport CartButton from './CartButton';\nimport Categories from './Categories';\nimport { addItem } from '../services/saveProduct';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isFirstLoading: true,\n      searchValue: '',\n      productList: [],\n      radioValue: '',\n    };\n\n    this.handleSearchButton = this.handleSearchButton.bind(this);\n    this.handleOnInputChange = this.handleOnInputChange.bind(this);\n    this.handleRadioInput = this.handleRadioInput.bind(this);\n    this.handleCartClick = this.handleCartClick.bind(this);\n  }\n\n  async handleSearchButton(searchValue, radio = undefined) {\n    const { radioValue } = this.state;\n    const setRadio = radio || radioValue;\n    const setProducts = await getProductsFromCategoryAndQuery(\n      setRadio,\n      searchValue,\n    );\n    if (setProducts) {\n      this.setState({ productList: setProducts.results, isFirstLoading: false });\n    }\n  }\n\n  handleOnInputChange({ target: { name, type, checked, value } }) {\n    const checkedValue = type === 'checkbox' ? checked : value;\n    this.setState({ [name]: checkedValue });\n  }\n\n  async handleRadioInput({ target: { value } }, searchValue) {\n    const setProducts = await getProductsFromCategoryAndQuery(\n      value,\n      searchValue,\n    );\n    if (!searchValue) {\n      this.setState({ productList: setProducts.results, isFirstLoading: false });\n    } else {\n      this.setState(\n        { radioValue: value }, await this.handleSearchButton(searchValue, value),\n      );\n    }\n  }\n\n  handleCartClick(cartItem) {\n    addItem(cartItem);\n  }\n\n  render() {\n    const { searchValue, productList, isFirstLoading, radioValue } = this.state;\n    // addItem(productList[0]);\n    // addItem(productList[0]);\n    // addItem(productList[1]);\n    return (\n      <div className=\"principal\">\n\n        <SearchBar\n          onClick={ () => this.handleSearchButton(searchValue) }\n          onChange={ this.handleOnInputChange }\n          value={ searchValue }\n        />\n        <div className=\"button-and-message\">\n          <div>\n            <CartButton />\n          </div>\n          {isFirstLoading ? (\n            <div className=\"menssage\">\n              <h1 data-testid=\"home-initial-message\">\n                Digite algum termo de pesquisa ou escolha uma categoria.\n              </h1>\n            </div>\n          ) : (\n            <FilterableProductList\n              productList={ productList }\n              addToCart={ this.handleCartClick }\n            />\n          )}\n        </div>\n        <nav className=\"nav\">\n          <Categories\n            onClick={\n              (e) => this.handleRadioInput(e, searchValue)\n            }\n            value={ radioValue }\n          />\n        </nav>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}