{"ast":null,"code":"var _jsxFileName = \"/home/lucas/projetosDaTrybe/sd-021-a-project-frontend-online-store/src/Components/Home.js\";\nimport React from 'react';\nimport { getProductsFromCategoryAndQuery } from '../services/api';\nimport FIlterableProductList from './FIlterableProductList';\nimport SearchBar from './SearchProduct';\nimport CartButton from './CartButton';\nimport Categories from './Categories';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFirstLoading: true,\n      searchValue: '',\n      productList: [],\n      radioValue: ''\n    };\n    this.handleSearchButton = this.handleSearchButton.bind(this);\n    this.handleOnInputChange = this.handleOnInputChange.bind(this);\n    this.handleRadioInput = this.handleRadioInput.bind(this);\n  }\n\n  async handleSearchButton(searchValue) {\n    let radio = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n    const {\n      radioValue\n    } = this.state;\n    const setRadio = radio || radioValue;\n    const setProducts = await getProductsFromCategoryAndQuery(setRadio, searchValue);\n\n    if (setProducts) {\n      this.setState({\n        productList: setProducts.results,\n        isFirstLoading: false\n      });\n    }\n  }\n\n  handleOnInputChange(_ref) {\n    let {\n      target: {\n        name,\n        type,\n        checked,\n        value\n      }\n    } = _ref;\n    const checkedValue = type === 'checkbox' ? checked : value;\n    this.setState({\n      [name]: checkedValue\n    });\n  }\n\n  async handleRadioInput(_ref2, searchValue) {\n    let {\n      target: {\n        value\n      }\n    } = _ref2;\n    const setProducts = await getProductsFromCategoryAndQuery(value, searchValue);\n\n    if (!searchValue) {\n      this.setState({\n        productList: setProducts.results,\n        isFirstLoading: false\n      });\n    } else {\n      this.setState({\n        radioValue: value\n      }, await this.handleSearchButton(searchValue, value));\n    }\n  }\n\n  render() {\n    const {\n      searchValue,\n      productList,\n      isFirstLoading,\n      radioValue\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(SearchBar, {\n      onClick: () => this.handleSearchButton(searchValue),\n      onChange: this.handleOnInputChange,\n      value: searchValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }), isFirstLoading ? /*#__PURE__*/React.createElement(\"h1\", {\n      \"data-testid\": \"home-initial-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, \"Digite algum termo de pesquisa ou escolha uma categoria.\") : /*#__PURE__*/React.createElement(FIlterableProductList, {\n      productList: productList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(CartButton, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"nav\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Categories, {\n      onClick: e => this.handleRadioInput(e, searchValue),\n      value: radioValue,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/lucas/projetosDaTrybe/sd-021-a-project-frontend-online-store/src/Components/Home.js"],"names":["React","getProductsFromCategoryAndQuery","FIlterableProductList","SearchBar","CartButton","Categories","Home","Component","constructor","props","state","isFirstLoading","searchValue","productList","radioValue","handleSearchButton","bind","handleOnInputChange","handleRadioInput","radio","undefined","setRadio","setProducts","setState","results","target","name","type","checked","value","checkedValue","render","e"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { getProductsFromCategoryAndQuery } from '../services/api';\nimport FIlterableProductList from './FIlterableProductList';\nimport SearchBar from './SearchProduct';\nimport CartButton from './CartButton';\nimport Categories from './Categories';\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isFirstLoading: true,\n      searchValue: '',\n      productList: [],\n      radioValue: '',\n    };\n\n    this.handleSearchButton = this.handleSearchButton.bind(this);\n    this.handleOnInputChange = this.handleOnInputChange.bind(this);\n    this.handleRadioInput = this.handleRadioInput.bind(this);\n  }\n\n  async handleSearchButton(searchValue, radio = undefined) {\n    const { radioValue } = this.state;\n    const setRadio = radio || radioValue;\n    const setProducts = await getProductsFromCategoryAndQuery(\n      setRadio,\n      searchValue,\n    );\n    if (setProducts) {\n      this.setState({ productList: setProducts.results, isFirstLoading: false });\n    }\n  }\n\n  handleOnInputChange({ target: { name, type, checked, value } }) {\n    const checkedValue = type === 'checkbox' ? checked : value;\n    this.setState({ [name]: checkedValue });\n  }\n\n  async handleRadioInput({ target: { value } }, searchValue) {\n    const setProducts = await getProductsFromCategoryAndQuery(\n      value,\n      searchValue,\n    );\n    if (!searchValue) {\n      this.setState({ productList: setProducts.results, isFirstLoading: false });\n    } else {\n      this.setState(\n        { radioValue: value }, await this.handleSearchButton(searchValue, value),\n      );\n    }\n  }\n\n  render() {\n    const { searchValue, productList, isFirstLoading, radioValue } = this.state;\n    return (\n      <div>\n\n        <SearchBar\n          onClick={ () => this.handleSearchButton(searchValue) }\n          onChange={ this.handleOnInputChange }\n          value={ searchValue }\n        />\n        {isFirstLoading ? (\n          <h1 data-testid=\"home-initial-message\">\n            Digite algum termo de pesquisa ou escolha uma categoria.\n          </h1>\n        ) : (\n          <FIlterableProductList productList={ productList } />\n        )}\n        <CartButton />\n        <nav>\n          <Categories\n            onClick={\n              (e) => this.handleRadioInput(e, searchValue)\n            }\n            value={ radioValue }\n          />\n        </nav>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}