{"ast":null,"code":"var _jsxFileName = \"/home/lucas/trybe/projetosDaTrybe/sd-021-a-project-recipes-app/src/pages/FavoriteRecipes.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport FiltersBtns from '../components/FiltersBtns';\nimport Header from '../components/Header';\nimport Context from '../context/context';\nimport share from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg'; // import { Container } from './styles';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction FavoritesRecipes() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const favorite = 'Favorite Recipes';\n  const bool = false;\n  const {\n    isCopy,\n    setCopy,\n    favoritesArray,\n    isFavorite,\n    setIsFavorite\n  } = useContext(Context);\n  const history = useHistory();\n  const [localFavorites, setlocalFavorites] = useState([]);\n\n  const handleShare = () => {\n    copy(`http://localhost:3000${history.location.pathname.replace('/in-progress', '')}`);\n    setCopy(true);\n  };\n\n  useEffect(() => {\n    const favoritesRecipes = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    setlocalFavorites(favoritesRecipes);\n\n    if (favoritesArray.some(item => item.id === id)) {\n      setIsFavorite(true);\n    }\n  }, []);\n\n  const verifyType = item => {\n    if (item.type === 'drink') {\n      const {\n        pathname\n      } = window.location;\n      const drinks = pathname === '/drinks';\n      return drinks;\n    }\n  };\n\n  const handleFavorites = () => {\n    const favorites = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    let arrayFavorites = [];\n\n    if (favoritesArray.length && favoritesArray.some(item => item.id === id)) {\n      setIsFavorite(true);\n    } else {\n      setIsFavorite(false);\n    }\n\n    if (favoritesArray.length && favoritesArray.some(item => item.id === id)) {\n      arrayFavorites = favoritesArray.filter(e => e.id !== favorites.id);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(arrayFavorites));\n      setFavoritesArray(arrayFavorites);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [console.log('ai', localFavorites), /*#__PURE__*/_jsxDEV(Header, {\n      title: favorite,\n      hasSearch: bool\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(FiltersBtns, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: localFavorites && localFavorites.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: verifyType(item) === false ? `/drinks/${item.id}` : `/foods/${item.id}`,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: item.image,\n            alt: \"imagem\",\n            \"data-testid\": `${i}-horizontal-image`,\n            className: \"img-done\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            \"data-testid\": `${i}-horizontal-name`,\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          \"data-testid\": `${i}-horizontal-top-text`,\n          children: [item.nationality, ' ', \"-\", ' ', item.category]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          \"data-testid\": `${i}-horizontal-top-text`,\n          children: item.alcoholicOrNot ? item.alcoholicOrNot : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          \"data-testid\": `${i}-horizontal-done-date`,\n          children: item.doneDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }, this), !isCopy ? /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"image\",\n          src: share,\n          \"data-testid\": `${i}-horizontal-share-btn`,\n          alt: \"searchIcon\",\n          onClick: handleShare\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }, this) : 'Link copied!', /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleFavorites,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: isFavorite ? blackHeartIcon : whiteHeartIcon,\n            alt: \"blackHeart\",\n            \"data-testid\": \"favorite-btn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 15\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FavoritesRecipes, \"6hgeV8YltDv5cVI4tsjNeaqIxY4=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = FavoritesRecipes;\nexport default FavoritesRecipes;\n\nvar _c;\n\n$RefreshReg$(_c, \"FavoritesRecipes\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Link","useHistory","useParams","FiltersBtns","Header","Context","share","whiteHeartIcon","blackHeartIcon","FavoritesRecipes","id","favorite","bool","isCopy","setCopy","favoritesArray","isFavorite","setIsFavorite","history","localFavorites","setlocalFavorites","handleShare","copy","location","pathname","replace","favoritesRecipes","JSON","parse","localStorage","getItem","some","item","verifyType","type","window","drinks","handleFavorites","favorites","arrayFavorites","length","filter","e","setItem","stringify","setFavoritesArray","console","log","map","i","image","name","nationality","category","alcoholicOrNot","doneDate"],"sources":["/home/lucas/trybe/projetosDaTrybe/sd-021-a-project-recipes-app/src/pages/FavoriteRecipes.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport FiltersBtns from '../components/FiltersBtns';\nimport Header from '../components/Header';\nimport Context from '../context/context';\nimport share from '../images/shareIcon.svg';\nimport whiteHeartIcon from '../images/whiteHeartIcon.svg';\nimport blackHeartIcon from '../images/blackHeartIcon.svg';\n\n// import { Container } from './styles';\n\nfunction FavoritesRecipes() {\n  const { id } = useParams();\n  const favorite = 'Favorite Recipes';\n  const bool = false;\n  const { isCopy,\n    setCopy,\n    favoritesArray,\n    isFavorite,\n    setIsFavorite,\n  } = useContext(Context);\n  const history = useHistory();\n  const [localFavorites, setlocalFavorites] = useState([]);\n\n  const handleShare = () => {\n    copy(\n      `http://localhost:3000${history.location.pathname.replace(\n        '/in-progress',\n        '',\n      )}`,\n    );\n    setCopy(true);\n  };\n\n  useEffect(() => {\n    const favoritesRecipes = JSON.parse(\n      localStorage.getItem('favoriteRecipes'),\n    );\n    setlocalFavorites(favoritesRecipes);\n    if (favoritesArray.some((item) => item.id === id)) {\n      setIsFavorite(true);\n    }\n  }, []);\n\n  const verifyType = (item) => {\n    if (item.type === 'drink') {\n      const { pathname } = window.location;\n      const drinks = pathname === '/drinks';\n      return drinks;\n    }\n  };\n\n  const handleFavorites = () => {\n    const favorites = JSON.parse(localStorage.getItem('favoriteRecipes'));\n    let arrayFavorites = [];\n    if (\n      favoritesArray.length\n      && favoritesArray.some((item) => item.id === id)\n    ) {\n      setIsFavorite(true);\n    } else {\n      setIsFavorite(false);\n    }\n    if (\n      favoritesArray.length\n      && favoritesArray.some((item) => item.id === id)\n    ) {\n      arrayFavorites = favoritesArray.filter((e) => e.id !== favorites.id);\n      localStorage.setItem('favoriteRecipes', JSON.stringify(arrayFavorites));\n      setFavoritesArray(arrayFavorites);\n    }\n  };\n  return (\n    <div>\n      {console.log('ai', localFavorites)}\n      <Header title={ favorite } hasSearch={ bool } />\n      <FiltersBtns />\n      <div>\n        {localFavorites\n          && localFavorites.map((item, i) => (\n            <div key={ i }>\n              <Link\n                to={\n                  verifyType(item) === false\n                    ? `/drinks/${item.id}`\n                    : `/foods/${item.id}`\n                }\n              >\n                <img\n                  src={ item.image }\n                  alt=\"imagem\"\n                  data-testid={ `${i}-horizontal-image` }\n                  className=\"img-done\"\n                />\n                <h1 data-testid={ `${i}-horizontal-name` }>{item.name}</h1>\n              </Link>\n              <h4 data-testid={ `${i}-horizontal-top-text` }>\n                {item.nationality}\n                {' '}\n                -\n                {' '}\n                {item.category}\n              </h4>\n              <h3 data-testid={ `${i}-horizontal-top-text` }>\n                {item.alcoholicOrNot ? item.alcoholicOrNot : null}\n              </h3>\n\n              <h3 data-testid={ `${i}-horizontal-done-date` }>{item.doneDate}</h3>\n              {/* {item.tags.map((e) => (\n              <h4 data-testid={ `${i}-${e}-horizontal-tag` } key={ e }>\n                {e}\n              </h4>\n            ))} */}\n              {!isCopy ? (\n                <input\n                  type=\"image\"\n                  src={ share }\n                  data-testid={ `${i}-horizontal-share-btn` }\n                  alt=\"searchIcon\"\n                  onClick={ handleShare }\n                />\n              ) : (\n                'Link copied!'\n              )}\n              <button type=\"button\" onClick={ handleFavorites }>\n                <img\n                  src={ isFavorite ? blackHeartIcon : whiteHeartIcon }\n                  alt=\"blackHeart\"\n                  data-testid=\"favorite-btn\"\n                />\n              </button>\n            </div>\n          ))}\n      </div>\n    </div>\n  );\n}\n\nexport default FavoritesRecipes;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}